<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FSM Demo</title>
</head>

<body>
    Demo v8

    <p id="error"></p>
    <p id="context"></p>

    <script>
        let context = undefined;
        /* fetch(
            'https://tomi639.github.io/fsmMobileAppExt',
            {
                method: 'POST',
                headers: {

                    "content-type": "application/x-www-form-urlencoded",

                }
            })
            .then(res => {
                document.getElementById('#context').innerHTML = 'lorem ipsum';
                context = res.body;
                windows.location.replace = 'https://tomi639.github.io/fsmMobileAppExt'
            }); */

        fetch(
            '/demo_test', {
                method:'POST'
            }
        ).then( (response) => {
            if (response.ok) {
                return response;
            } else {
                return Promise.reject(response);
            }
        }).then((data) => {
            document.getElementById('context').innerHTML = 'lorem ipsum';
            context = data.body;
            window.location.replace('https://tomi639.github.io/fsmMobileAppExt');
        }).catch((error) => {
            document.getElementById('error').innerHTML = 'lorem ipsum ERROR';
        });


    </script>


    <!-- <script>
        fetch(`/web-container-context`, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        })
        .then(checkStatus)
        .then(res => res.json())
        .then(data => {
            document.getElementById('#context').innerHTML = data;}
        ).catch(error => {
            document.getElementById('#context').innerHTML = error + '<br><br>Context from mobile web container is not available. ';
        })

        function checkStatus(res) {
            if(res.ok){
                return res;
            } else {
              throw new Error(`HTTP Error Response: ${res.status} ${res.statusText}`);
            }
          }
    </script> -->





    <!-- <script src="index.js"></script> -->
</body>

</html>